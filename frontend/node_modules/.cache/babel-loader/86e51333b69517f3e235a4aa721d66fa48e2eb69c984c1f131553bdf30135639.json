{"ast":null,"code":"import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import{Container,Paper,Button}from'@material-ui/core';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({root:{'& > *':{margin:theme.spacing(1)}}}));export default function Student(){const paperStyle={padding:'50px 20px',width:600,margin:'20px auto'};const[name,setName]=useState('');const[address,setAddress]=useState('');const[students,setStudents]=useState([]);const classes=useStyles();const handleClick=e=>{e.preventDefault();const student={name,address};fetch('http://localhost:8080/student/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(student)}).then(()=>{console.log('New Student added');fetchStudents();// Refresh the list after adding\n});};const fetchStudents=()=>{fetch('http://localhost:8080/student/getAll').then(res=>res.json()).then(result=>{setStudents(result);});};useEffect(()=>{fetchStudents();// Fetch students on initial render\n},[]);const handleDeleteById=id=>{fetch(`http://localhost:8080/student/delete/${id}`,{method:'DELETE'}).then(()=>{console.log(`Student with ID ${id} deleted`);fetchStudents();// Refresh the list after deleting\n});};const handleDeleteAll=()=>{fetch('http://localhost:8080/student/deleteAll',{method:'DELETE'}).then(()=>{console.log('All students deleted');setStudents([]);// Clear the local state after deleting all\n});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'green'},children:/*#__PURE__*/_jsx(\"u\",{children:\"Add Student\"})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Student Name\",variant:\"outlined\",fullWidth:true,value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Student Address\",variant:\"outlined\",fullWidth:true,value:address,onChange:e=>setAddress(e.target.value)}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:handleClick,children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Students\"}),/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[students.map(student=>/*#__PURE__*/_jsxs(Paper,{elevation:6,style:{margin:'10px',padding:'15px',textAlign:'left'},children:[\"Id: \",student.id,/*#__PURE__*/_jsx(\"br\",{}),\"Name: \",student.name,/*#__PURE__*/_jsx(\"br\",{}),\"Address: \",student.address,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:()=>handleDeleteById(student.id),children:\"Delete\"})]},student.id)),students.length>0&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:handleDeleteAll,style:{marginTop:'20px'},children:\"Delete All\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","makeStyles","TextField","Container","Paper","Button","jsx","_jsx","jsxs","_jsxs","useStyles","theme","root","margin","spacing","Student","paperStyle","padding","width","name","setName","address","setAddress","students","setStudents","classes","handleClick","e","preventDefault","student","fetch","method","headers","body","JSON","stringify","then","console","log","fetchStudents","res","json","result","handleDeleteById","id","handleDeleteAll","children","elevation","style","color","className","noValidate","autoComplete","label","variant","fullWidth","value","onChange","target","onClick","map","textAlign","length","marginTop"],"sources":["/home/ayaan/Downloads/CRUDapp/frontend/src/components/Student.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Container, Paper, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function Student() {\n  const paperStyle = { padding: '50px 20px', width: 600, margin: '20px auto' };\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [students, setStudents] = useState([]);\n  const classes = useStyles();\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const student = { name, address };\n    fetch('http://localhost:8080/student/add', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(student),\n    }).then(() => {\n      console.log('New Student added');\n      fetchStudents(); // Refresh the list after adding\n    });\n  };\n\n  const fetchStudents = () => {\n    fetch('http://localhost:8080/student/getAll')\n      .then((res) => res.json())\n      .then((result) => {\n        setStudents(result);\n      });\n  };\n\n  useEffect(() => {\n    fetchStudents(); // Fetch students on initial render\n  }, []);\n\n  const handleDeleteById = (id) => {\n    fetch(`http://localhost:8080/student/delete/${id}`, {\n      method: 'DELETE',\n    }).then(() => {\n      console.log(`Student with ID ${id} deleted`);\n      fetchStudents(); // Refresh the list after deleting\n    });\n  };\n\n  const handleDeleteAll = () => {\n    fetch('http://localhost:8080/student/deleteAll', {\n      method: 'DELETE',\n    }).then(() => {\n      console.log('All students deleted');\n      setStudents([]); // Clear the local state after deleting all\n    });\n  };\n\n  return (\n    <Container>\n      <Paper elevation={3} style={paperStyle}>\n        <h1 style={{ color: 'green' }}>\n          <u>Add Student</u>\n        </h1>\n\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <TextField\n            id=\"outlined-basic\"\n            label=\"Student Name\"\n            variant=\"outlined\"\n            fullWidth\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <TextField\n            id=\"outlined-basic\"\n            label=\"Student Address\"\n            variant=\"outlined\"\n            fullWidth\n            value={address}\n            onChange={(e) => setAddress(e.target.value)}\n          />\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleClick}>\n            Submit\n          </Button>\n        </form>\n      </Paper>\n\n      <h1>Students</h1>\n\n      <Paper elevation={3} style={paperStyle}>\n        {students.map((student) => (\n          <Paper\n            elevation={6}\n            style={{ margin: '10px', padding: '15px', textAlign: 'left' }}\n            key={student.id}\n          >\n            Id: {student.id}\n            <br />\n            Name: {student.name}\n            <br />\n            Address: {student.address}\n            <br />\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => handleDeleteById(student.id)}\n            >\n              Delete\n            </Button>\n          </Paper>\n        ))}\n\n        {students.length > 0 && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleDeleteAll}\n            style={{ marginTop: '20px' }}\n          >\n            Delete All\n          </Button>\n        )}\n      </Paper>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}